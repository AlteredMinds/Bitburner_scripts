/** @param {NS} ns */
export async function main(ns) {
  let hosts = ns.scan()
  for (let host of hosts) {
    if(ns.fileExists("BruteSSH.exe")) ns.brutessh(host);
    if(ns.fileExists("FTPCrack.exe")) ns.ftpcrack(host);
    if(ns.fileExists("relaySMTP.exe")) ns.relaysmtp(host);
    if(ns.fileExists("HTTPWorm.exe")) ns.httpworm(host);
    if(ns.fileExists("SQLInject.exe")) ns.sqlinject(host);

    if (ns.getServerNumPortsRequired(host) <= 3) {
      ns.nuke(host);
      ns.tprint("Successfully hacked " + host)
    }
  }
}